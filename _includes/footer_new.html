<div id="footer">
    <p>Friendly links? 友情链接？？？c:wq</p>
    <div id="hide-logo" class="active" title="强迫症，双击停掉吧……">P</div>
    <div class="clearfix">
        <div class="copyright">&copy; <span class="year"></div>
        <div class="theme-author">本主题由<a href="/">「 Poised_flw 」</a>YY而成</div>
    </div>
</div>
<a class="totop" href="javascript:;"></a>
<script>
// 还外链啥js
(function() {
    var yearDom = document.getElementById('footer').querySelector('.year');
    var totopDom = document.querySelector('.totop');
    var year = (new Date()).getFullYear();
    yearDom.innerHTML = year;

    // for scroll
    var body = document.body;
    var timer = null;

    window.addEventListener('scroll', function(e) {
        var scrollTop = body.scrollTop;
        this.clearTimeout(timer);

        if (scrollTop > 100) {
            totopDom.style.display = 'block';

            timer = setTimeout(function() {
                totopDom.style.display = 'none';
            }, 3000);
        } else {
            totopDom.style.display = 'none';
        }
    });

    totopDom.onmouseover = function() {
        window.clearTimeout(timer);
    }

    totopDom.onmouseleave = function() {
        timer = setTimeout(function() {
            totopDom.style.display = 'none';
        }, 3000);
    }

    totopDom.addEventListener('click', function() {
        window.scrollTo(0, 0);
    });

    // 修正title信息
    var postTitle = document.querySelector('header.post-header');
    try {
        document.title = postTitle.querySelector('.post-title').innerHTML + ' --来自 ' + document.title;
    } catch(e) {}

    // 停掉logo旋转
    var hideLogo = document.getElementById('hide-logo');
    hideLogo.addEventListener('dblclick', function() {
        if (this.className == "active") {
            this.className = "";
        } else {
            this.className = "active";
        }
    });
})();
</script>
